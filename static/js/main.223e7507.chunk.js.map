{"version":3,"sources":["index.js"],"names":["document","title","nerdEmojis","NerdBackground","emojis","setEmojis","useState","useEffect","numberOfEmojis","length","newEmojis","i","push","emoji","left","Math","random","animationDelay","animationDuration","fontSize","React","createElement","className","map","emojiData","index","key","style","App","gameState","setGameState","countdown","setCountdown","visitCount","setVisitCount","fetchVisitCount","async","response","fetch","data","json","count","error","console","timer","setTimeout","clearTimeout","onClick","method","Quiz","questions","setQuestions","currentQuestion","setCurrentQuestion","score","setScore","timeLeft","setTimeLeft","quizEnded","setQuizEnded","selectedAnswer","setSelectedAnswer","isCorrect","setIsCorrect","fetchQuestions","ok","Error","fetchedQuestions","results","q","question","decodeEntities","answers","incorrect_answers","correct_answer","correct","forEach","shuffleArray","array","j","floor","text","textArea","innerHTML","value","restartQuiz","id","answer","checkAnswer","disabled","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.223e7507.chunk.js","sourcesContent":["///////////////////////\n// Welcome to Cursor //\n///////////////////////\n\n/*\nStep 1: Try generating a react component that lets you play tictactoe with Cmd+K or Ctrl+K on a new line.\n  - Then integrate it into the code below and run with npm start\n\nStep 2: Try highlighting all the code with your mouse, then hit Cmd+k or Ctrl+K. \n  - Instruct it to change the game in some way (e.g. add inline styles, add a start screen, make it 4x4 instead of 3x3)\n\nStep 3: Hit Cmd+L or Ctrl+L and ask the chat what the code does\n\nStep 4: To try out cursor on your own projects, go to the file menu (top left) and open a folder.\n*/\n\n\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\n// import reportWebVitals from './reportWebVitals';\n\n// Set the document title\ndocument.title = 'Random Popquiz';\n\nconst nerdEmojis = ['🤓', '🧠', '👨‍🔬', '👩‍🔬', '🤖', '💻', '📚', '😂'];\n\nfunction NerdBackground() {\n  const [emojis, setEmojis] = useState([]);\n\n  useEffect(() => {\n    const numberOfEmojis = nerdEmojis.length * 4; // 4x more emojis\n    const newEmojis = [];\n\n    for (let i = 0; i < numberOfEmojis; i++) {\n      newEmojis.push({\n        emoji: nerdEmojis[i % nerdEmojis.length],\n        left: `${Math.random() * 100}%`,\n        animationDelay: `${Math.random() * 5}s`,\n        animationDuration: `${Math.random() * 5 + 10}s`, // 10-15s duration\n        fontSize: `${Math.random() * 40 + 40}px`, // 40px to 80px\n      });\n    }\n\n    setEmojis(newEmojis);\n  }, []);\n\n  return (\n    <div className=\"nerd-background\">\n      {emojis.map((emojiData, index) => (\n        <span \n          key={index} \n          className=\"falling-emoji\" \n          style={{\n            left: emojiData.left,\n            animationDelay: emojiData.animationDelay,\n            animationDuration: emojiData.animationDuration,\n            fontSize: emojiData.fontSize,\n          }}\n        >\n          {emojiData.emoji}\n        </span>\n      ))}\n    </div>\n  );\n}\n\nfunction App() {\n  const [gameState, setGameState] = useState('start'); // 'start', 'countdown', or 'quiz'\n  const [countdown, setCountdown] = useState(5);\n  const [visitCount, setVisitCount] = useState(0);\n\n  useEffect(() => {\n    fetchVisitCount();\n  }, []);\n\n  const fetchVisitCount = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/visits');\n      const data = await response.json();\n      setVisitCount(data.count);\n    } catch (error) {\n      console.error('Error fetching visit count:', error);\n    }\n  };\n\n  const handleStart = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/visits', { method: 'POST' });\n      const data = await response.json();\n      setVisitCount(data.count);\n    } catch (error) {\n      console.error('Error updating visit count:', error);\n    }\n    setGameState('countdown');\n  };\n\n  useEffect(() => {\n    let timer;\n    if (gameState === 'countdown' && countdown > 0) {\n      timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n    } else if (gameState === 'countdown' && countdown === 0) {\n      setGameState('quiz');\n    }\n    return () => clearTimeout(timer);\n  }, [gameState, countdown]);\n\n  return (\n    <div className=\"App\">\n      <NerdBackground />\n      {gameState === 'start' && (\n        <div className=\"App-header\">\n          <h1>Random Popquiz</h1>\n          <p>This quiz has been taken {visitCount} times!</p>\n          <button onClick={handleStart} className=\"start-button\">\n            Click to start\n          </button>\n        </div>\n      )}\n      {gameState === 'countdown' && (\n        <div className=\"countdown-container\">\n          <h2>Get Ready!</h2>\n          <div className=\"countdown\">{countdown}</div>\n        </div>\n      )}\n      {gameState === 'quiz' && <Quiz />}\n    </div>\n  );\n}\n\nfunction Quiz() {\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(40);\n  const [quizEnded, setQuizEnded] = useState(false);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [isCorrect, setIsCorrect] = useState(null);\n\n  useEffect(() => {\n    fetchQuestions();\n  }, []);\n\n  useEffect(() => {\n    if (timeLeft > 0 && !quizEnded) {\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n      return () => clearTimeout(timer);\n    } else if (timeLeft === 0 && !quizEnded) {\n      setQuizEnded(true);\n    }\n  }, [timeLeft, quizEnded]);\n\n  const fetchQuestions = async () => {\n    try {\n      const response = await fetch('https://opentdb.com/api.php?amount=10&difficulty=medium');\n      if (!response.ok) {\n        throw new Error('Failed to fetch questions');\n      }\n      const data = await response.json();\n      const fetchedQuestions = data.results.map(q => ({\n        question: decodeEntities(q.question),\n        answers: [...q.incorrect_answers, q.correct_answer].map(decodeEntities),\n        correct: decodeEntities(q.correct_answer)\n      }));\n      fetchedQuestions.forEach(q => shuffleArray(q.answers));\n      setQuestions(fetchedQuestions);\n    } catch (error) {\n      console.error('Error fetching questions:', error);\n    }\n  };\n\n  const shuffleArray = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n  };\n\n  const decodeEntities = (text) => {\n    const textArea = document.createElement('textarea');\n    textArea.innerHTML = text;\n    return textArea.value;\n  };\n\n  const checkAnswer = (answer) => {\n    setSelectedAnswer(answer);\n    const currentQ = questions[currentQuestion];\n    const correct = answer === currentQ.correct;\n    setIsCorrect(correct);\n\n    if (correct) {\n      setScore(score + 1);\n    }\n\n    // Wait for a moment before moving to the next question\n    setTimeout(() => {\n      if (currentQuestion + 1 < questions.length) {\n        setCurrentQuestion(currentQuestion + 1);\n        setTimeLeft(40); // Reset timer for next question\n        setSelectedAnswer(null);\n        setIsCorrect(null);\n      } else {\n        setQuizEnded(true);\n      }\n    }, 1000); // Wait for 1 second\n  };\n\n  const restartQuiz = () => {\n    setCurrentQuestion(0);\n    setScore(0);\n    setTimeLeft(40);\n    setQuizEnded(false);\n    fetchQuestions();\n  };\n\n  if (questions.length === 0) {\n    return <div>Loading questions...</div>;\n  }\n\n  if (quizEnded) {\n    return (\n      <div className=\"quiz-container\">\n        <h2>{score > 5 ? 'Congratulations!' : 'Quiz Completed'}</h2>\n        <p>Your final score is: {score} / {questions.length}</p>\n        <button className=\"try-again-btn\" onClick={restartQuiz}>\n          Try Again\n        </button>\n      </div>\n    );\n  }\n\n  const question = questions[currentQuestion];\n\n  return (\n    <div className=\"quiz-container\">\n      <div className=\"score-timer-container\">\n        <div id=\"score\">Score: {score} / {questions.length}</div>\n        <div id=\"timer\">Time: {timeLeft}</div>\n      </div>\n      <div className=\"question\">\n        <h2>Question {currentQuestion + 1}:</h2>\n        <p>{question.question}</p>\n        <div className=\"answers\">\n          {question.answers.map((answer, index) => (\n            <button\n              key={index}\n              onClick={() => checkAnswer(answer)}\n              className={`\n                ${selectedAnswer === answer ? (isCorrect ? 'correct' : 'incorrect') : ''}\n                ${selectedAnswer && answer === question.correct ? 'correct' : ''}\n              `}\n              disabled={selectedAnswer !== null}\n            >\n              {answer}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// reportWebVitals();"],"sourceRoot":""}